{% extends 'base.html' %}
{% block content %}
    <h2>Payments</h2>
    <a href="{% url 'payments:create' %}" class="btn btn-success mb-3">Record New Payment</a>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Order/Invoice</th>
                <th>Amount</th>
                <th>Date</th>
                <th>Method</th>
            </tr>
        </thead>
        <tbody>
        {% for payment in payments %}
            <tr>
                <td>
                    {% if payment.order %}
                        Order #{{ payment.order.id }}
                    {% elif payment.invoice %}
                        Invoice #{{ payment.invoice.id }}
                    {% endif %}
                </td>
                <td>{{ payment.amount }}</td>
                <td>{{ payment.payment_date }}</td>
                <td>{{ payment.payment_method }}</td>
            </tr>
                {% endfor %}
        </tbody>
    </table>
{% endblock %}
                                                                                                                                                                                          